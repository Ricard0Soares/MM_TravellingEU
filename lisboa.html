<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="lisboa.css">
    <link rel="stylesheet" type="text/css" href="navBar.css">
</head>

<body>
    <nav class="navbar">
        <div class="logo"><a href="home.html">TravellingEU</a></div>
        <ul class="nav-links">
            <li><a href="screens/navLinks/destinations.html">Destinations</a></li>
            <li><a href="screens/videos/videos.html">Videos</a></li>
            <li><a href="screens/navLinks/howitworks.html">How it works</a></li>
            <li><a href="screens/navLinks/aboutus.html">About Us</a></li>
        </ul>
    </nav>

    <div class="ellipse-container">
        <p>Lisboa</p>
        <div class="image-container">
            <img src="images/lisboa.png" alt="lisboa">
            <span>Lisboa é a capital e maior cidade de Portugal, com uma população estimada 
                de 548.703 habitantes em 2022 dentro dos seus limites administrativos numa 
                área de cerca de 100 quilómetros quadrados.</span>
        </div>
    </div>

    <div class="second-ellipse-container">
        <div class="video-container">
            <video id="myVideo" controls>
                <source src="teste.mp4" type="video/mp4">
            </video>
            <div id="overlay" class="overlay">
                <a href="home.html" id="link1" style="top: 10%; left: 10%;">Learn more about Lisbon</a>
                <a href="paris.html" id="link2" style="top: 20%; left: 20%;">Learn more about Paris</a>
            </div>
            <div id="thumbnails" class="thumbnails">
                <ul>
                    <li><a href="#" data-time="0">Início</a></li>
                    <li><a href="#" data-time="10">Introdução</a></li>
                    <li><a href="#" data-time="20">Ponto 1</a></li>
                    <li><a href="#" data-time="30">Ponto 2</a></li>
                    <li><a href="#" data-time="40">Conclusão</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="third-ellipse-container">
        <div class="photos-container">
            <img src="images/image_3.png" alt="cidade1">
        </div>
        <div class="photos-container">
            <img src="images/image_4.png" alt="cidade2">
        </div>
        <div class="photos-container">
            <img src="images/image_5.png" alt="cidade3">
        </div>
        <div class="photos-container">
            <img src="images/image_3.png" alt="cidade5">
        </div>
        <div class="photos-container">
            <img src="images/image_4.png" alt="cidade6">
        </div>
    </div>
    
    
    <script>
        var video = document.getElementById('myVideo');
        var overlay = document.getElementById('overlay');
        var thumbnails = document.getElementById('thumbnails').getElementsByTagName('a'); //todos os elementos

        for(var i = 0; i < thumbnails.length; i++){
            thumbnails[i].addEventListener('click', function(e){
                //e.preventDefault();
                var time = parseFloat(this.getAttribute('data-time'));
                video.currentTime = time; //tempo faz com que salta para este ponto do video
            });
        }

        video.addEventListener('timeupdate', function() {
            var currentTime = video.currentTime;

            for (var i = 0; i < thumbnails.length; i++) {
                var time = parseFloat(thumbnails[i].getAttribute('data-time'));
                if (currentTime >= time && (i === thumbnails.length - 1 || currentTime < parseFloat(thumbnails[i + 1].getAttribute('data-time')))) {
                    thumbnails[i].classList.add('current'); //thumbnail i passa a ser a atual.
                } else {
                    thumbnails[i].classList.remove('current'); //deixa de ser
                }
            }

            //links em intervalos de tempo especificos
            if (currentTime >= 5 && currentTime < 10) {
                document.getElementById('link1').style.display = 'block';
                document.getElementById('link2').style.display = 'none';
                overlay.style.display = 'block';
            } else if (currentTime >= 10 && currentTime < 15) {
                document.getElementById('link1').style.display = 'none';
                document.getElementById('link2').style.display = 'block';
                overlay.style.display = 'block';
            } else {
                overlay.style.display = 'none';
            }
        });

        /*document.addEventListener('fullscreenchange', function() {
            if (document.fullscreenElement) {
                //fullscreen
                overlay.style.position = 'fixed';
                overlay.style.top = '0';
                overlay.style.left = '0';
                overlay.style.width = '100vw';
                overlay.style.height = '100vh';
            } else {
                //not fullscreen
                overlay.style.position = 'absolute';
                overlay.style.width = '100%';
                overlay.style.height = '100%';
            }
        });*/


    </script>

</body>
</html>
